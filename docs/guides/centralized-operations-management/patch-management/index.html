<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-guides/centralized-operations-management/patch-management/index" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Patch Management | AWS Cloud Operations Best Practices</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://aws-samples.github.io/cloud-operations-best-practices/docs/guides/centralized-operations-management/patch-management/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Patch Management | AWS Cloud Operations Best Practices"><meta data-rh="true" name="description" content="Patch Manager, a capability of Systems Manager, allows you to automate the process of patching managed nodes with security related updates. You can patch Amazon EC2 instances, edge devices, and on-premises servers and virtual machines (VMs), including VMs in other cloud environments."><meta data-rh="true" property="og:description" content="Patch Manager, a capability of Systems Manager, allows you to automate the process of patching managed nodes with security related updates. You can patch Amazon EC2 instances, edge devices, and on-premises servers and virtual machines (VMs), including VMs in other cloud environments."><link data-rh="true" rel="icon" href="/cloud-operations-best-practices/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://aws-samples.github.io/cloud-operations-best-practices/docs/guides/centralized-operations-management/patch-management/"><link data-rh="true" rel="alternate" href="https://aws-samples.github.io/cloud-operations-best-practices/docs/guides/centralized-operations-management/patch-management/" hreflang="en"><link data-rh="true" rel="alternate" href="https://aws-samples.github.io/cloud-operations-best-practices/docs/guides/centralized-operations-management/patch-management/" hreflang="x-default"><link rel="stylesheet" href="/cloud-operations-best-practices/assets/css/styles.26ea7983.css">
<script src="/cloud-operations-best-practices/assets/js/runtime~main.e01270f2.js" defer="defer"></script>
<script src="/cloud-operations-best-practices/assets/js/main.8024e9b2.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/cloud-operations-best-practices/"><b class="navbar__title text--truncate">AWS Cloud Operations Best Practices</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/cloud-operations-best-practices/docs/home">Home</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/cloud-operations-best-practices/docs/guides/">Guides</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/cloud-operations-best-practices/docs/tools/">Solutions</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/cloud-operations-best-practices/docs/recipes/">Recipes</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/cloud-operations-best-practices/docs/faq/">FAQ</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/cloud-operations-best-practices/docs/contributors">Contributors</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/cloud-operations-best-practices/docs/resources/">Resources</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/cloud-operations-best-practices/docs/guides/centralized-operations-management/patch-management/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li></ul></div><a href="https://github.com/aws-samples/cloud-operations-best-practices" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cloud-operations-best-practices/docs/home">What is AWS Cloud Operations</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/cloud-operations-best-practices/docs/guides/">Best practices</a><button aria-label="Collapse sidebar category &#x27;Best practices&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/cloud-operations-best-practices/docs/guides/AWS CloudTrail/">AWS CloudTrail</a><button aria-label="Expand sidebar category &#x27;AWS CloudTrail&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud-operations-best-practices/docs/guides/application-operations/">Application Operations</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/cloud-operations-best-practices/docs/guides/centralized-operations-management/">Centralized Operations Management</a><button aria-label="Collapse sidebar category &#x27;Centralized Operations Management&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud-operations-best-practices/docs/guides/centralized-operations-management/node-management/">Node Management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/cloud-operations-best-practices/docs/guides/centralized-operations-management/patch-management/">Patch Management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud-operations-best-practices/docs/guides/centralized-operations-management/remote-and-session-management/">Remote and Session Management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud-operations-best-practices/docs/guides/centralized-operations-management/automation/">Automation</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/cloud-operations-best-practices/docs/tools/">Solutions</a><button aria-label="Expand sidebar category &#x27;Solutions&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/cloud-operations-best-practices/docs/recipes/">Recipes</a><button aria-label="Expand sidebar category &#x27;Recipes&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/cloud-operations-best-practices/docs/faq/">FAQ</a><button aria-label="Expand sidebar category &#x27;FAQ&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cloud-operations-best-practices/docs/resources/">Resources</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cloud-operations-best-practices/docs/contributors">Contributors</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/cloud-operations-best-practices/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/cloud-operations-best-practices/docs/guides/"><span itemprop="name">Best practices</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/cloud-operations-best-practices/docs/guides/centralized-operations-management/"><span itemprop="name">Centralized Operations Management</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Patch Management</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Patch Management</h1></header>
<p><a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/systems-manager-patch.html" target="_blank" rel="noopener noreferrer">Patch Manager</a>, a capability of Systems Manager, allows you to automate the process of patching managed nodes with security related updates. You can patch Amazon EC2 instances, edge devices, and on-premises servers and virtual machines (VMs), including VMs in other cloud environments.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-makes-patching-hard">What makes patching hard?<a href="#what-makes-patching-hard" class="hash-link" aria-label="Direct link to What makes patching hard?" title="Direct link to What makes patching hard?">​</a></h2>
<p><img decoding="async" loading="lazy" alt="What makes patching hard?" src="/cloud-operations-best-practices/assets/images/what-makes-patching-hard-e70b6e28917442afa85bcf1c30934e74.png" title="What makes patching hard?" width="989" height="247" class="img_ev3q"></p>
<p>Creating a patching strategy can be challenging for organizations. To start, patch management is dependent on having a current and complete inventory of the patchable software, including applications and operating systems that&#x27;s installed on each node within the company&#x27;s environment. Secondly, enterprise patch management can cause some resources to be overloaded in terms of both people and infrastructure.</p>
<p>Next, installing patches can cause side effects to occur. Another common challenge which often cause organizations to err on the side of caution, is unintended or unexpected problems that are caused by installing patches. It can be surprisingly difficult to examine a node and determine whether or not a particular patch has actually taken effect. This challenge could be faced on a single node, or if you extrapolate that out across an entire organization fleet of node and operating systems, the scale of that challenge can quickly become very overwhelming.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="making-things-better">Making things better<a href="#making-things-better" class="hash-link" aria-label="Direct link to Making things better" title="Direct link to Making things better">​</a></h2>
<p><img decoding="async" loading="lazy" alt="Prioritizing patching" src="/cloud-operations-best-practices/assets/images/prioritize-03667b2a6bb3eca7895a552d56803591.png" title="Prioritizing patching" width="784" height="169" class="img_ev3q"></p>
<p>To help address some of the common challenges, start by prioritizing specific patches through classifications to identify a small subset of patches you must prioritize. To do this, determine what workloads or applications are most critical for your business and then determine which patches make the most difference to those workloads. For example, email servers, databases, web applications, customer facing digital properties, etc.</p>
<p><img decoding="async" loading="lazy" alt="How it works" src="/cloud-operations-best-practices/assets/images/how-it-works-8fbdfebb08ce69c8cad6acc32a5c36af.png" title="How it works" width="788" height="273" class="img_ev3q"></p>
<p>From there you can create <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/patch-manager-patch-baselines.html" target="_blank" rel="noopener noreferrer">patch baselines</a> for each workload which helps determine applicable patches to be marked missing when performing patch scan operations. Scanning helps you determine the level of compliance against the baselines that you&#x27;ve established.</p>
<p>You can then begin to schedule recurring patch install operations to apply updates during routine maintenance periods or install updates on-demand during emergent patch releases. Following patch installation, you can confirm the result using patch compliance data provided by Patch Manager.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-occurs-within-the-os-during-patching">What occurs within the OS during patching?<a href="#what-occurs-within-the-os-during-patching" class="hash-link" aria-label="Direct link to What occurs within the OS during patching?" title="Direct link to What occurs within the OS during patching?">​</a></h2>
<p>A common question from customers is how does Patch Manager scan or install patches? When a patch operation is initiated, whether scheduled or ad-hoc, the operation is queued in Systems Manager endpoints. The SSM agent then retrieves the command to either scan or install. SSM agent retrieves patch baseline approval rules and initiates a scan or install using the local OS package manager, i.e. Windows Update, yum, apt-get. Once the operation is complete, SSM agent reports back patch compliance data to Patch Manager.</p>
<p><img decoding="async" loading="lazy" alt="Patch Management OS Patching" src="/cloud-operations-best-practices/assets/images/os-patching-ce06538a5a14f99d16f274605e40a679.png" title="Patch Management OS Patching" width="1820" height="1080" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="connectivity-to-the-patch-source">Connectivity to the patch source<a href="#connectivity-to-the-patch-source" class="hash-link" aria-label="Direct link to Connectivity to the patch source" title="Direct link to Connectivity to the patch source">​</a></h3>
<p>If your managed nodes don&#x27;t have a direct connection to the Internet and you&#x27;re using an Amazon Virtual Private Cloud (Amazon VPC) with a VPC endpoint, you must ensure that the nodes have access to the source patch repositories (repos).</p>
<p>On Linux nodes, patch updates are typically downloaded from the remote repos configured on the node. Therefore, the node must be able to connect to the repos so the patching can be performed. Windows Server managed nodes must be able to connect to the Windows Update Catalog or Windows Server Update Services (WSUS). For more information, see <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/patch-manager-prerequisites.html" target="_blank" rel="noopener noreferrer">Patch Manager prerequisites</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="defining-patch-criteria">Defining patch criteria<a href="#defining-patch-criteria" class="hash-link" aria-label="Direct link to Defining patch criteria" title="Direct link to Defining patch criteria">​</a></h2>
<p>Patch Manager provides <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/sysman-patch-baselines.html" target="_blank" rel="noopener noreferrer">predefined patch baselines</a> for each of the operating systems supported by Patch Manager. You can use these baselines as they are currently configured (you can&#x27;t customize them) or you can create your own custom patch baselines. Custom patch baselines allows you greater control over which patches are approved or rejected for your environment.</p>
<p>Within a custom patch baseline you can:</p>
<ul>
<li>Define what patches are approved</li>
<li>Use auto-approval delays for cutoffs</li>
<li>Define patch exceptions</li>
<li>Define custom patch repositories for Linux</li>
<li>Define patch criteria for multiple operating system versions</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="different-types-of-patching">Different types of patching<a href="#different-types-of-patching" class="hash-link" aria-label="Direct link to Different types of patching" title="Direct link to Different types of patching">​</a></h2>
<p>There are two general approaches that you can take with your patching solution: centralized or decentralized.</p>
<table><thead><tr><th>Centralized Patching</th><th>Decentralized Patching</th></tr></thead><tbody><tr><td>Central team deploys patch scan operations</td><td>Shifts more responsibility to application / account owner</td></tr><tr><td>Central team deploys patch install operations</td><td>Central team deploys patch scan operations &amp; compliance reporting is still centralized</td></tr><tr><td>Limited flexibility around schedule and operations performed</td><td>Owners responsible for patch install operations &amp; central team can provide building blocks, i.e. via AWS Service Catalog</td></tr><tr><td>Central team typically responsible for troubleshooting</td><td>Allows owner to define schedule for install</td></tr><tr><td>More common in highly regulated or secured environments</td><td>Central team should have an on-demand patch install override</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-centralized-patching-solutions-for-multi-account-organizations">Example centralized patching solutions for multi-account organizations<a href="#example-centralized-patching-solutions-for-multi-account-organizations" class="hash-link" aria-label="Direct link to Example centralized patching solutions for multi-account organizations" title="Direct link to Example centralized patching solutions for multi-account organizations">​</a></h3>
<p><strong>Option 1:</strong> A centralized patching solution can be established using <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/quick-setup-patch-manager.html" target="_blank" rel="noopener noreferrer">Quick Setup Patch Policy configurations</a>. Patch policies enable customers to scan and schedule patch installation for multiple patch baselines across AWS accounts and across AWS Regions. For more information, see <a href="/cloud-operations-best-practices/docs/guides/centralized-operations-management/patch-management/#patching-across-an-aws-organization---patch-policies">Patching across an AWS Organization - Patch Policies</a>.</p>
<p><img decoding="async" loading="lazy" alt="Patch Management Centralized Patching Option 1" src="/cloud-operations-best-practices/assets/images/patch-policy-architecture-c95f2341d8711ea9979702b82c1343c7.png" title="Patch Management Centralized Patching Option 1" width="741" height="360" class="img_ev3q"></p>
<p><strong>Option 2:</strong> Another option for a centralized solution is to schedule a multi-account and multi-Region patching operation using a combination of <a href="https://aws.amazon.com/eventbridge/" target="_blank" rel="noopener noreferrer">Amazon EventBridge</a>, <a href="https://aws.amazon.com/lambda/" target="_blank" rel="noopener noreferrer">AWS Lambda</a>, and <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/systems-manager-automation.html" target="_blank" rel="noopener noreferrer">Systems Manager Automation</a>. For more information, see <a href="https://aws.amazon.com/blogs/mt/scheduling-centralized-multi-account-multi-region-patching-aws-systems-manager-automation/" target="_blank" rel="noopener noreferrer">Scheduling centralized multi-account and multi-Region patching with AWS Systems Manager Automation</a>.</p>
<p><img decoding="async" loading="lazy" alt="Patch Management Centralized Patching Option 2" src="/cloud-operations-best-practices/assets/images/scheduled-mamr-patching-automation-a9d1328c639860a9976276cc351c0a8a.png" title="Patch Management Centralized Patching Option 2" width="741" height="365" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-decentralized-self-service-patching-solution-for-multi-account-organizations">Example decentralized self-service patching solution for multi-account organizations<a href="#example-decentralized-self-service-patching-solution-for-multi-account-organizations" class="hash-link" aria-label="Direct link to Example decentralized self-service patching solution for multi-account organizations" title="Direct link to Example decentralized self-service patching solution for multi-account organizations">​</a></h3>
<p>Different application owners may have different requirements in terms of patch operations, patch timing, frequency of patching, and flexibility of testing patches in lower environments (DEV or UAT). Using <a href="https://aws.amazon.com/servicecatalog/" target="_blank" rel="noopener noreferrer">AWS Service Catalog</a>, central teams can create products which act as the building blocks for self-service patching. Application/account owners can then deploy these products into their environment and only have to provide a few parameters, such as the schedule, without having to build a solution themselves. For more information, see <a href="https://aws.amazon.com/blogs/mt/a-self-service-patching-solution-for-multi-account-organisations/" target="_blank" rel="noopener noreferrer">A self-service patching solution for multi-account organizations</a>.</p>
<p><img decoding="async" loading="lazy" alt="Self-service patching using Service Catalog" src="/cloud-operations-best-practices/assets/images/self-service-patching-be804e8a24579c020ff792e27fe97e5b.png" title="Self-service patching using Service Catalog" width="1993" height="1591" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="patch-in-place-vs-rehydration">Patch in place vs Rehydration<a href="#patch-in-place-vs-rehydration" class="hash-link" aria-label="Direct link to Patch in place vs Rehydration" title="Direct link to Patch in place vs Rehydration">​</a></h2>
<p>Rehydration (repaving, refreshing) is the process of spinning up new servers with latest patches installed and decommissioning old nodes. A common practice for EC2 instances in an Auto Scaling Group, managed node groups in a container cluster (ECS / EKS), and AMIs that are preconfigured with application workload requirements.</p>
<table><thead><tr><th>Patch in place</th><th>Rehydration</th></tr></thead><tbody><tr><td>Commonly performed at a higher frequency than rehydration (weekly, bi-weekly)</td><td>Commonly performed monthly or quarterly. Some customers perform it every 2 weeks!</td></tr><tr><td>Ideal for long-standing nodes that cannot be easily replaced (mutable)</td><td>Ideal for workloads which do not require much post-launch configuration (immutable)</td></tr><tr><td>Patch install workflow may require backups to be taken</td><td>Use services like EC2 Image Builder to integrate with Auto Scaling groups</td></tr><tr><td></td><td>May still require a mechanism to patch in place. For example, if a zero-day vulnerability patch is released but nodes cannot be replaced until the next rehydration cycle</td></tr></tbody></table>
<p>You may require both methods, patch in place and rehydration, within your environment depending on the application workload.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="patching-across-an-aws-organization---patch-policies">Patching across an AWS Organization - Patch Policies<a href="#patching-across-an-aws-organization---patch-policies" class="hash-link" aria-label="Direct link to Patching across an AWS Organization - Patch Policies" title="Direct link to Patching across an AWS Organization - Patch Policies">​</a></h2>
<p>To standardize patching requirements in an AWS Organization, you can use <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/patch-manager-policies.html" target="_blank" rel="noopener noreferrer">patch policies within Quick Setup</a>. You can apply a patch policy across an entire organization for multiple operating systems, across multiple accounts and Regions, and review resource compliance for the target managed nodes.</p>
<p>Using Quick Setup across multiple accounts helps to ensure that your organization maintains consistent configurations. Additionally, Quick Setup periodically checks for configuration drift and attempts to remediate it. Configuration drift occurs whenever a user makes any change to a service or feature that conflicts with the selections made through Quick Setup.</p>
<p><img decoding="async" loading="lazy" alt="Patch Policy architecture" src="/cloud-operations-best-practices/assets/images/patch-policy-detailed-architecture-d0dec0c64e23f71346960175459a6da1.png" title="Patch Policy architecture" width="902" height="720" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-it-works">How it works<a href="#how-it-works" class="hash-link" aria-label="Direct link to How it works" title="Direct link to How it works">​</a></h3>
<ol>
<li>You create the patch policy using Quick Setup and the parameters selected are sent to CloudFormation.</li>
<li>CloudFormation creates a stack set with the defined parameters and defined target accounts and Regions. This is generated by Quick Setup during deployment.</li>
<li>CloudFormation creates stack instances in each target account and Region.</li>
<li>The stack instances create <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/systems-manager-state.html" target="_blank" rel="noopener noreferrer">State Manager associations</a> for the defined patch scan and an association for patch installation, if selected. These associations are applied using the schedules provided when you create the patch policy.</li>
<li>In the management account, a State Manager association starts an Automation runbook to invoke a Lambda function once a day.</li>
<li>The Lambda function stores the patch baselines specified as a JSON file in an S3 bucket. Additionally, the Lambda function evalutes the custom patch baselines specified within Quick Setup for any changes. If changes are made to the custom patch baselines, the Lambda function updates the JSON file in the S3 bucket.</li>
<li>Manage nodes then pull the central patch baseline JSON file during patching operations to scan for or install updates.</li>
</ol>
<p><strong>Note:</strong> Currently, to deploy Patch Policies through Quick Setup you must use the management account within your AWS Organization. To deploy Patch Policies outside of the management account, visit <a href="https://catalog.us-east-1.prod.workshops.aws/workshops/7c0ea253-6462-41cd-af76-3850c92458fa/en-US" target="_blank" rel="noopener noreferrer">How to deploy Patch Policies outside of Quick Setup</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="on-demand-patching">On-demand patching<a href="#on-demand-patching" class="hash-link" aria-label="Direct link to On-demand patching" title="Direct link to On-demand patching">​</a></h2>
<p>There are times where you may need to patch nodes outside of your routine patching cycles such as in emergent vulnerability scenarios.</p>
<p><strong>Option 1:</strong> <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/patch-manager-patch-now-on-demand.html" target="_blank" rel="noopener noreferrer">Patch now</a> (<em>single-account/Region</em>)</p>
<ul>
<li>Using the <strong>Patch now</strong> option in Patch Manager, you can run on-demand patching operations quickly. However, <strong>Patch now</strong> only allows patching within a single AWS account and Region at a time. It also cannot use patch baselines defined within patch policies. You can create a different baseline that will perform a patch scan or install applicable patches based on approval rules that differs from your patch policy baselines.</li>
</ul>
<p><strong>Option 2:</strong> Automation <em>(multi-account/Region)</em></p>
<ul>
<li>To perform an on-demand patching operation across accounts and Regions, you can utilize Automation which supports <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/running-automations-multiple-accounts-regions.html" target="_blank" rel="noopener noreferrer">running automations in multiple AWS Regions and accounts</a>. You can leverage IAM roles deployed into target accounts to perform actions. You can integrate with Patch Policies or stand alone patching requirements.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="integrating-vulnerability-management-and-remediation">Integrating vulnerability management and remediation<a href="#integrating-vulnerability-management-and-remediation" class="hash-link" aria-label="Direct link to Integrating vulnerability management and remediation" title="Direct link to Integrating vulnerability management and remediation">​</a></h2>
<p><a href="https://aws.amazon.com/inspector" target="_blank" rel="noopener noreferrer">Amazon Inspector</a> provides continuous vulnerability scans on Amazon EC2 instances and container images stored in Amazon Elastic Container Registry (Amazon ECR). These scans assess software vulnerabilities and unintended network exposure. Amazon Inspector uses the Systems Manager (SSM) agent to collect software application inventory of the EC2 instances. Then, Inspector scans this data and identifies software vulnerabilities, a crucial step in vulnerability management.</p>
<p>You should perform regular patching operations for resolving vulnerabilities identified by Amazon Inspector based on the severity of the vulnerabilities. You can use AWS Systems Manager Patch Manager to automate the process of patching nodes managed by Systems Manager using the SSM agent.</p>
<p>There may be zero-day or other high and critical severity vulnerabilities where patches are available. However, you may not want to wait for the regular patching schedule to remediate them. In these cases, on-demand mechanisms for patching should exist.</p>
<p>To learn more, see:</p>
<ul>
<li><a href="https://www.linkedin.com/events/awsonair-lockdown-themagicalwor7061737757479481344/comments/" target="_blank" rel="noopener noreferrer">AWS on Air: LockDown - The Magical World of Vulnerability Management</a></li>
<li><a href="https://aws.amazon.com/blogs/mt/automate-vulnerability-management-and-remediation-in-aws-using-amazon-inspector-and-aws-systems-manager-part-1/" target="_blank" rel="noopener noreferrer">Automate vulnerability management and remediation in AWS using Amazon Inspector and AWS Systems Manager – Part 1</a></li>
<li><a href="https://aws.amazon.com/blogs/mt/automate-vulnerability-management-and-remediation-in-aws-using-amazon-inspector-and-aws-systems-manager-part-2/" target="_blank" rel="noopener noreferrer">Automate vulnerability management and remediation in AWS using Amazon Inspector and AWS Systems Manager – Part 2</a></li>
</ul>
<p><img decoding="async" loading="lazy" alt="Automate vulnerability management and remediation" src="/cloud-operations-best-practices/assets/images/vulnerability-remediation-architecture-1860f49b20a99eb6ad51c502894209c4.png" title="Automate vulnerability management and remediation" width="1092" height="522" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="reviewing-patch-compliance">Reviewing patch compliance<a href="#reviewing-patch-compliance" class="hash-link" aria-label="Direct link to Reviewing patch compliance" title="Direct link to Reviewing patch compliance">​</a></h2>
<p>The Patch Manager dashboard provides a snapshot of patch compliance within the current AWS account and Region. Compliance reporting allows you to determine patch compliance for nodes. You can also review more details on what patches were installed and what was the severity and criticality of those patches using the Fleet Manager console.</p>
<p>While these views are specific to the local AWS account and Region, you can create centralized patch compliance reporting for the entire AWS Organization.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="creating-end-to-end-patch-management-and-inventory-reporting-in-an-aws-organization">Creating end-to-end patch management and inventory reporting in an AWS Organization<a href="#creating-end-to-end-patch-management-and-inventory-reporting-in-an-aws-organization" class="hash-link" aria-label="Direct link to Creating end-to-end patch management and inventory reporting in an AWS Organization" title="Direct link to Creating end-to-end patch management and inventory reporting in an AWS Organization">​</a></h2>
<p>To create a report on patch compliance across your AWS Organization, you can use Systems Manager <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/inventory-create-resource-data-sync.html" target="_blank" rel="noopener noreferrer">resource data syncs</a> to send inventory data collected from all of your managed nodes to a single Amazon S3 bucket. Resource data sync then automatically updates the centralized data when new inventory data is collected.</p>
<p>Using an <a href="https://docs.aws.amazon.com/glue/latest/dg/add-crawler.html" target="_blank" rel="noopener noreferrer">AWS Glue crawler</a>, you can automatically create databases and tables from the patch compliance data in S3 and then query patch compliance data with <a href="https://aws.amazon.com/athena/" target="_blank" rel="noopener noreferrer">Amazon Athena</a>. This solution utilizes <a href="https://aws.amazon.com/quicksight/" target="_blank" rel="noopener noreferrer">Amazon QuickSight</a> to visualize the inventory and patch compliance data, however, you can use any BI or analytics tool that can pull the data from the S3 bucket.</p>
<p><strong>Note:</strong> You need to create a resource data sync in every account and Region that you want to collect inventory data from your nodes.</p>
<p><img decoding="async" loading="lazy" alt="End-to-end patch management reporting" src="/cloud-operations-best-practices/assets/images/architecture-diagram-ssm-org-reporting-99b0af032c6d6f6f2f639733e15beeb4.png" title="End-to-end patch management reporting" width="3033" height="2253" class="img_ev3q"></p>
<ol>
<li>Create Systems Manager resource data syncs in each account/Region.</li>
<li>Centrally aggregate patch compliance data in a single Amazon S3 Bucket.</li>
<li>Automatically create database and tables using an AWS Glue Crawler.</li>
<li>Query patch or inventory data using Amazon Athena.</li>
<li>Visualize patch compliance using Amazon QuickSight.</li>
</ol>
<p>Resource data syncs push data to S3 buckets based on actions taken from on-demand actions (Registering or terminating instances /performing a patch scan or install), scheduled actions (Gathering software inventory, gathering custom inventory metadata, performing a patch install, and evaluating compliance using Chef InSpec).</p>
<p><img decoding="async" loading="lazy" alt="Inventory metadata" src="/cloud-operations-best-practices/assets/images/resource-data-sync-inventory-metadata-0440942b3186fe210c8bd1815fa9e215.png" title="Inventory metadata" width="1160" height="1103" class="img_ev3q"></p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/cloud-operations-best-practices/docs/guides/centralized-operations-management/node-management/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Node Management</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/cloud-operations-best-practices/docs/guides/centralized-operations-management/remote-and-session-management/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Remote and Session Management</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-makes-patching-hard" class="table-of-contents__link toc-highlight">What makes patching hard?</a></li><li><a href="#making-things-better" class="table-of-contents__link toc-highlight">Making things better</a></li><li><a href="#what-occurs-within-the-os-during-patching" class="table-of-contents__link toc-highlight">What occurs within the OS during patching?</a><ul><li><a href="#connectivity-to-the-patch-source" class="table-of-contents__link toc-highlight">Connectivity to the patch source</a></li></ul></li><li><a href="#defining-patch-criteria" class="table-of-contents__link toc-highlight">Defining patch criteria</a></li><li><a href="#different-types-of-patching" class="table-of-contents__link toc-highlight">Different types of patching</a><ul><li><a href="#example-centralized-patching-solutions-for-multi-account-organizations" class="table-of-contents__link toc-highlight">Example centralized patching solutions for multi-account organizations</a></li><li><a href="#example-decentralized-self-service-patching-solution-for-multi-account-organizations" class="table-of-contents__link toc-highlight">Example decentralized self-service patching solution for multi-account organizations</a></li></ul></li><li><a href="#patch-in-place-vs-rehydration" class="table-of-contents__link toc-highlight">Patch in place vs Rehydration</a></li><li><a href="#patching-across-an-aws-organization---patch-policies" class="table-of-contents__link toc-highlight">Patching across an AWS Organization - Patch Policies</a><ul><li><a href="#how-it-works" class="table-of-contents__link toc-highlight">How it works</a></li></ul></li><li><a href="#on-demand-patching" class="table-of-contents__link toc-highlight">On-demand patching</a></li><li><a href="#integrating-vulnerability-management-and-remediation" class="table-of-contents__link toc-highlight">Integrating vulnerability management and remediation</a></li><li><a href="#reviewing-patch-compliance" class="table-of-contents__link toc-highlight">Reviewing patch compliance</a></li><li><a href="#creating-end-to-end-patch-management-and-inventory-reporting-in-an-aws-organization" class="table-of-contents__link toc-highlight">Creating end-to-end patch management and inventory reporting in an AWS Organization</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Built with ❤️ at AWS. <br> © 2025.  Amazon.com, Inc. or its affiliates. All Rights Reserved.</div></div></div></footer></div>
</body>
</html>